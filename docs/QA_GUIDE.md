# 🧪 SoundLab QA 가이드 (Quality Assurance Guide)

연구원이 아니더라도 **SoundLab**이 정상적으로 작동하는지 확인할 수 있는 테스트 시나리오입니다. 아래 순서대로 앱을 테스트해보세요.

---

## 1. 기본 실행 및 업로드 (Basic Functionality)
가장 기초적인 기능이 작동하는지 확인합니다.

### ✅ 체크리스트
- [ ] **앱 실행**: `streamlit run src/main.py` 명령어로 앱이 브라우저에서 열리는가? (오류 메시지 없음)
- [ ] **파일 업로드**:
    - `.wav` 파일을 업로드했을 때 즉시 분석이 시작되지 않고 "분석 시작" 버튼 안내가 뜨는가?
    - **통과 기준**: 에러 없이 업로드 완료되고 버튼 안내가 나와야 함.

---

## 2. V5.7 스마트 분석 및 워크플로우 (Smart Analysis & Workflow)
새로 적용된 **V5.7 알고리즘**과 개선된 분석 흐름을 확인합니다.

### ✅ 체크리스트
- [ ] **분석 워크플로우**:
    - 파일을 업로드했을 때 즉시 **스펙트럼 분석 모달**이 자동으로 열리는가?
    - 모달을 닫거나 적용한 후, 메인 화면 중앙에 커다란 **`🚀 분석 시작`** 버튼이 보이는가?
    - 새 파일을 업로드하면 다시 모달이 자동으로 뜨고 분석 대기 상태가 되는가?
- [ ] **사이드바 정리**:
    - 사이드바 하단에 있던 `▶️ 분석 시작` 버튼이 사라졌는가? (메인 보드로 이동됨)
- [ ] **스마트 모드 토글**:
    - 사이드바의 `🧠 스마트 분석 모드`가 기본적으로 **켜져(ON)** 있는가?
    - 토글을 껐을 때(OFF) 차트의 형태(길이 등)가 변하는가?
- [ ] **스마트 지표**:
    - `📊 스마트 분석 결과 요약` 섹션에 `신호 추출 정밀도 (Bandwidth)`와 `가동 판단 기준점 (Threshold)`이 뜨는가?
- [ ] **타임라인 (Timeline)**:
    - `📊 신호 감지 타임라인` 차트와 `총 가동 시간`, `가동 사이클 (Cycles)` 메트릭이 보이는가?
    - `📋 감지 구간 상세` 표에 시작/종료 시간이 분:초 단위로 나오는가?

---

## 3. UI 가독성 및 반응성 (UI/UX)
사용자가 보기에 편한지 확인합니다.

### ✅ 체크리스트
- [ ] **시간 표시 (MM:SS)**:
    - 그래프 X축과 툴팁(Hover) 시간이 `05:00` (분:초) 형식으로 나오는가?
- [ ] **가동 판정 기준 (%)**:
    - `📊 스마트 분석 결과`에서 `가동 판정 기준`이 수치가 아닌 **백분율 (%)**로 표시되는가?
- [ ] **인터랙션 연동**:
    - `⚡ 가동 중 주요 고점(Peak) 이벤트 로그`의 행을 클릭했을 때, 차트에 **노란색 점선**이 생기는가?
    - 차트에 마우스를 올렸을 때 **Spike Lines (정밀 타겟팅 점선)**이 생기는가?
    - 이상 징후 포인트(붉은 점)에 호버 시 **붉은색 강조 툴팁**이 나타나는가?
- [ ] **차트 자동 줌(Auto-Zoom)**:
    - 분석 완료 시, 차트가 이상 징후 발생 구간을 중심으로 자동으로 줌인 되는가?

---

## 4. 데이터 내보내기 및 관리 (Data Management) - New 🌟
- [ ] **CSV 내보내기 (File)**: 분석 결과 하단의 `Export` 섹션에서 CSV 파일이 정상적으로 다운로드되는가?
- [ ] **CSV 내보내기 (Live)**: 실시간 감지 중지 시 나타나는 `CSV 저장` 버튼으로 데이터가 저장되는가?
- [ ] **인코딩 확인**: 저장된 CSV 파일을 엑셀(Excel)에서 열었을 때 한글이 깨지지 않는가? (UTF-8-BOM 확인)

---

## 4. 스트레스 테스트 (Stability)
- [ ] **대형 파일 처리**: 200MB 이상의 대형 WAV 파일 업로드 시 앱이 크래시 없이 분석을 완료하는가?
- [ ] **반복 클릭**: '분석 시작' 버튼을 반복해서 눌러도 오작동하지 않는가?

---

## 📝 QA 결과 리포트 양식

| 항목 | 결과 | 비고 |
| :--- | :---: | :--- |
| **분석 워크플로우** | | |
| **주파수 탐색기** | | |
| **가동 가독성 (MM:SS, %)** | | |
| **타임라인** | | |

> **Tip**: 문제를 발견하면 상황을 캡처해서 개발자에게 전달해주세요! 📸
